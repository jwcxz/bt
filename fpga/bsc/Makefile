### Makefile for the bt project
### Generated by Bluespec Workstation on Tue Apr 16 19:59:44 EDT 2013

default: full_clean compile link

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -verilog -elab -vdir . -bdir . -info-dir . -keep-fires -p %/Prelude:%/Libraries:%/Libraries/BlueNoC:./../../bsv -g mkBeatTracker  ../../bsv/BeatTracker.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkBeatTracker -verilog -o ./out -vdir .  -vsim iverilog  -keep-fires ./mkBeatTracker.v
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f ./Types.bo ./bt.bo
	exec rm -f ./mkBeatTracker.ba

.PHONY: full_clean
full_clean:
	rm -f ./Types.bo ./bt.bo
	rm -f ./mkBeatTracker.ba
	rm -f ./mkBeatTracker.v
